# 코테 유용한 정규식 정리

이 문서는 정규식(Regular Expressions)의 작성 방법과 규칙, 그리고 코딩 테스트에서 자주 쓰이는 정규식을 정리한 것입니다. 간단한 원리와 예제, 사용 팁을 같이 적었습니다.

## 1) 기초 개념과 표기

- 리터럴 표기: `/pattern/flags` (예: `/\d+/g`)
- 생성자: `new RegExp('pattern', 'flags')` (동적 패턴 생성 시 사용)
- 주요 메서드
  - `regex.test(str)` : 패턴 매칭 여부 (boolean)
  - `str.match(regex)` : 매칭 결과 배열 (또는 null)
  - `str.replace(regex, replacer)` : 치환
  - `str.split(regex)` : 패턴 기준 분리

## 2) 앵커(Anchors)

- `^` : 문자열 시작
- `$` : 문자열 끝
- 예: `/^\d+$/` → 전체가 숫자인지 검사

## 3) 문자 클래스(Character classes)

- `.` : 줄바꿈 문자를 제외한 모든 문자
- `\d` : 숫자 `[0-9]`
- `\D` : 숫자가 아닌 문자
- `\w` : 단어 문자 (알파벳+숫자+`_`)
- `\W` : 단어 문자가 아닌 것
- `\s` : 공백 문자(스페이스, 탭, 개행)
- `\S` : 공백 문자가 아닌 것
- 대괄호: `[abc]`, 범위: `[a-z]`, 부정: `[^0-9]`

## 4) 수량자(Quantifiers)

- `*` : 0회 이상
- `+` : 1회 이상
- `?` : 0회 또는 1회
- `{n}` : 정확히 n회
- `{n,}` : n회 이상
- `{n,m}` : n~m회
- 비탐욕(Non-greedy): `*?`, `+?`, `??`, `{n,m}?`

## 5) 그룹과 캡처

- 캡처 그룹: `(abc)` → match 결과에 캡처 포함
- 비캡처 그룹: `(?:abc)` → 성능/불필요한 캡처 방지
- 역참조: `$1`, `$2` (replace에서 사용) 또는 RegExp 결과 배열에서 참조

## 6) 경계와 단어 경계

- `\b` : 단어 경계
- `\B` : 단어 경계가 아님

## 7) 전방/후방 탐색 (Lookaround)

- 전방탐색(긍정): `(?=...)`
- 전방탐색(부정): `(?!...)`
- 후방탐색(긍정): `(?<=...)` (JS 엔진에 따라 지원 여부 확인)
- 후방탐색(부정): `(?<!...)`
- 예: `\d+(?=px)` → `px` 앞의 숫자 추출

> 주의: 일부 구형 환경에서는 lookbehind가 지원되지 않을 수 있으니 실행 환경(Node/브라우저 버전)를 체크하세요.

## 8) 플래그(Flags)

- `g` : 전역 검색 (모든 매칭)
- `i` : 대소문자 무시
- `m` : 멀티라인 모드 (`^`와 `$`가 각 라인에 적용)
- `u` : 유니코드 모드
- `y` : sticky (현재 위치부터 고정 매칭)

## 9) 성능 팁

- 가능하면 앵커(`^`, `$`)를 사용해 검색 범위를 좁히세요.
- `.*` 처럼 과도한 탐욕적 패턴은 백트래킹 비용 증가 → 비탐욕(`.*?`)이나 구체적 패턴 사용 권장.
- 사용자 입력을 정규식으로 직접 만들어야 하면 반드시 이스케이프 처리하세요.

## 10) 코테에서 자주 쓰는 정규식 모음 (예제와 설명)

- 숫자만 추출 (문자 제거해서 숫자만 남기기)

  - 사용: `str.replace(/[^0-9]/g, '')`
  - 예: `'g0en2T0s8eSoft'.replace(/[^0-9]/g, '')` -> `'0208'` (숫자들만 이어진 문자열)

- 전체가 숫자인지 검사

  - `/^\d+$/`
  - 예: `/^\d+$/.test('123') // true`

- 정수(음수 포함) 검사

  - `/^-?\d+$/`

- 소수(실수) 검사

  - `/^-?\d+(?:\.\d+)?$/`

- 영문자만 (대소문자)

  - `/^[A-Za-z]+$/`

- 알파벳+숫자(영숫자)

  - `/^[A-Za-z0-9]+$/`

- 공백 연속 제거 (여러 공백을 단일 공백으로)

  - `str.replace(/\s+/g, ' ')`

- 앞뒤 공백 제거 (trim 대체)

  - `str.replace(/^\s+|\s+$/g, '')`

- 이메일(간단 검증)

  - `/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}$/`
  - (주의: 완전한 이메일 RFC를 검증하진 않음 — 대부분 코테용으로 충분)

- URL(간단 검증)

  - `/^https?:\/\/[\w.-]+(?:\.[\w\.-]+)+[\/\w\-._~:?#[\]@!$&'()*+,;=]*$/i`
  - (복잡하므로 코테에서는 종종 단순히 `^https?:\/\/` 만 체크)

- 간단한 IPv4 (0-255 체크는 생략한 형태)

  - `/^(?:\d{1,3}\.){3}\d{1,3}$/`

- 16진수 컬러 코드 (#abc 또는 #aabbcc)

  - `/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/`

- 한글 포함 검사

  - `/[가-힣]/` 또는 전체 한글 `/^[가-힣]+$/`

- 연속된 문자 수 세기 (같은 문자 반복 패턴 찾기)

  - `/(.)\1+/g` → 같은 문자가 연속된 부분 매칭

- 숫자 그룹 추출 (모든 연속 숫자 그룹을 배열로)
  - `str.match(/\d+/g)`

## 11) 자주 쓰이는 활용 예시

- 문자열에서 숫자만 뽑아 정수로 사용

```js
const s = 'g0en2T0s8eSoft';
const num = s.replace(/[^0-9]/g, ''); // '0208'
const n = Number(num); // 208 (앞의 0은 무시)
```

- 알파벳/숫자/공백만 남기기

```js
const cleaned = s.replace(/[^A-Za-z0-9\s]/g, '');
```

- 토큰화 예: 문장 내 단어만 추출

```js
const words = 'Hello, world! 123'.match(/[A-Za-z]+/g); // ['Hello','world']
```

## 12) 디버깅 팁

- 정규식 실수를 줄이려면 테스트 툴(예: regex101, RegExr)을 사용해 패턴과 플래그를 빠르게 확인하세요.
- JavaScript 환경에서는 `console.log(str.match(regex))`로 결과를 확인합니다.

## 13) 요약 체크리스트

- 검증(Validation) → 앵커(^, $) 사용
- 추출(Extraction) → 전역 플래그(g)와 `match` 또는 `replace` 활용
- 치환(Transformation) → `replace`와 적절한 캡처 그룹 사용
- 성능주의 → 불필요한 탐욕적 패턴 회피

---

필요하시면 이 파일에 더 많은 예제(이메일 변형, 전화번호 포맷, 주민등록번호(테스트 전용) 등)를 추가해 드립니다.
